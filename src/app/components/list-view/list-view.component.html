<table>
  <thead>
    <tr>
      @for (column of displayedColumns; track column) {
        <th (click)="orderBy(column.name)">
          @if (orderProperties.column == column.name) {
            <span>
              <span>{{ orderProperties.asc ? 'ASC' : 'DESC' }}</span>
            </span>
          }
          {{column.title}}
        </th>
      }
    </tr>
  </thead>
  <tbody>
    @for (item of (items | orderBy: orderProperties); track item) {
      <tr
        (dblclick)="itemDoubleClick(item)"
        (click)="itemClick($event, item)"
        [attr.selected]="isSelected(item) ? true : null"
        [attr.itemId]="item.id"
        draggable="true">
        @for (column of displayedColumns; track column) {
          <td>
            @if (column.name === 'title') {
              @if (!item.children) {
                <img alt="" [src]="getFavicon(item)" />
              } @else {
                <span class="tree-label"></span>
              }
            }
            {{getColumnValue(item, column.name)}}
          </td>
        }
      </tr>
    }
  </tbody>
</table>
